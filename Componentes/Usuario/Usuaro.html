<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Crear Empleado</title>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <style>
    /* Estilos personalizados */
    body, html {
      height: 100%;
      margin: 0;
      background-image: url('../../Images/MonteEverest.jpg'); /* Ruta de la imagen de fondo */
      background-size: cover;
      background-position: center;
    }
    .content-container {
      background-color: rgba(255, 255, 255, 0.8); /* Fondo blanco semitransparente para el contenido */
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1); /* Sombra suave */
    }
  </style>
</head>
<body>

  <div class="container mt-5 content-container">
    <div class="card">
      <h2 class="card-header text-center">Crear Empleado</h2>
      <div class="card-body">
        <form id="crear-empleado-form">
          <div class="mb-3">
            <label for="nombre" class="form-label">Nombre</label>
            <input type="text" class="form-control" id="nombre" name="nombre" placeholder="Ingrese el nombre">
          </div>
          <div class="mb-3">
            <label for="nit" class="form-label">NIT</label>
            <input type="text" class="form-control" id="nit" name="nit" placeholder="Ingrese el NIT">
          </div>
          <div class="mb-3">
            <label for="dpi" class="form-label">DPI</label>
            <input type="text" class="form-control" id="dpi" name="dpi" placeholder="Ingrese el DPI">
          </div>
          <div class="mb-3">
            <label for="salario" class="form-label">Salario Base</label>
            <input type="number" class="form-control" id="salario" name="salario" placeholder="Ingrese el salario base">
          </div>
          <div class="mb-3">
            <label for="bono" class="form-label">Bono</label>
            <input type="number" class="form-control" id="bono" name="bono" placeholder="Ingrese el bono">
          </div>
          <div class="mb-3">
            <label for="fechaInicio" class="form-label">Fecha de Inicio de Trabajo</label>
            <input type="date" class="form-control" id="fechaInicio" name="fechaInicio">
          </div>
          <div class="mb-3">
            <label for="fechaBaja" class="form-label">Fecha de Baja</label>
            <input type="date" class="form-control" id="fechaBaja" name="fechaBaja">
          </div>
          <div class="mb-3">
            <label for="direccion" class="form-label">Dirección</label>
            <input type="text" class="form-control" id="direccion" name="direccion" placeholder="Ingrese la dirección">
          </div>
          <div class="mb-3">
            <label for="area" class="form-label">Área</label>
            <select class="form-control" id="area" name="area">
              <option value="Recursos Humanos">Recursos Humanos</option>
              <option value="IT">IT</option>
              <option value="Contabilidad">Contabilidad</option>
            </select>
          </div>
          <div class="mb-3">
            <label for="puesto" class="form-label">Puesto</label>
            <input type="text" class="form-control" id="puesto" name="puesto" placeholder="Ingrese el puesto">
          </div>
          <div class="mb-3">
            <label for="valido" class="form-label">Pago de Prestaciones</label>
            <input type="checkbox" class="form-control" id="valido" name="valido" >
          </div>
          <div class="mb-3">
            <label for="comentario" class="form-label">Comentario</label>
            <input type="text" class="form-control" id="comentario" name="comentario" placeholder="Ingrese un comentario">
          </div>
          <button type="submit" class="btn btn-primary btn-block">Crear Empleado</button>
        </form>
        <div class="mt-3">
          <a href="../Menu/Menu.html" class="btn btn-secondary">Regresar</a>
        </div>
      </div>
    </div>
  </div>

</body>
</html>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
  $(document).ready(function() {
    $('#crear-empleado-form').submit(function(event) {
      event.preventDefault(); // Evitar el envío del formulario por defecto
      
      // Obtener los valores del formulario
      var formData = {
        nombre: $('#nombre').val(),
        nit: $('#nit').val(),
        dpi: $('#dpi').val(),
        salarioBase: $('#salario').val(),
        bono: $('#bono').val(),
        fechaInicioTrabajo: $('#fechaInicio').val(),
        fechaBaja: $('#fechaBaja').val(),
        direccion: $('#direccion').val(),
        area: $('#area').val(),
        puesto: $('#puesto').val(),
        comentario: $('#comentario').val(),
        valido: $('#valido').prop('checked') ? 1 : 0
      };
      console.log(formData);
      // Enviar los datos al endpoint CrearEmpleado
      $.ajax({
        type: 'POST',
        url: 'https://localhost:7282/Planilla/CrearEmpleado',
        contentType: 'application/json',
        data: JSON.stringify(formData),
        success: function(response) {
          alert('Empleado creado con éxito.');
          console.log(response);
           location.reload();
        },
        error: function(error) {
          alert('Error al crear el empleado.');
          console.error(error);
        }
      });
    });
  });
</script>

</body>
</html>
